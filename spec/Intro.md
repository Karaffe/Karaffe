#はじめに
Karaffe(カラフェ)は、「メモ帳でも書けるとにかくシンプルで現代的な機能を持つ言語」を目指して設計されるプログラミング言語です。
この文書は言語仕様書であることと同時に、マニュアルでもあるので是非読んでおくことをおすすめします。

#ソースコードファイル
Karaffeのソースコードファイルの拡張子は`krf`とすることをおすすめします。  
`txt`や他の拡張子でもコンパイル可能ですが、`okrf`、`akrf`、`krfdoc`はコンパイラが生成・利用するファイルの拡張子であるため使用できません。  
例えば、`Hello.krf`をコンパイルするとデフォルトで`Hello.okrf`ファイルが生成されます。  
この時、既に`Hello.okrf`ファイルが存在する場合は削除されます。  
ソースコードはファイル単位で分割することが可能です。  

#アクセス制御ファイル
アクセス制御ファイルについては[こちら](AccessControl.md)に詳しく記述されています。  
Karaffeではアクセス制御に独立したファイルを用意します。  
アクセス制御したいファイル名と同名とし、拡張子を`akrf`とすると  
このファイルは必須ではありません。  
このファイルが存在するかしないかにかかわらず、[`global`]()は正しく動作します。  
`global`修飾子とアクセス制御ファイルで矛盾した制御を行うとコンパイルエラーが発生します。   
アクセス制御ファイルは以下のコマンドでテンプレートが生成可能です。  
`krfc -ar *.krf`  
または  
`krfc --gen-access-control-file --recursive *.krf`  

#ドキュメントファイル
ドキュメントファイルについては[こちら](DocFile.md)に詳しく記述されています。  

Karaffeではドキュメントの記述に独立したファイルを用意します。  
ソースコード中にコメントとして記述することも可能ですがこちらの方法をおすすめします。  
ドキュメントファイルは`krfdoc`の拡張子で記述するとコンパイラからドキュメントファイルとして認識されます。  
ドキュメントファイルは以下のコマンドでテンプレートが生成可能です。  
`krfc -dr *.krf`  
または  
`krfc --gen-doc-file --recursive *.krf`

#文法表記法
Karaffeの文法は、[EBNF](http://ja.wikipedia.org/wiki/EBNF)を使って記述します。  
この言語仕様のEBNFでは以下の共通の規則を用います。  

|規則|意味|
|---|---|
| &#124; | いずれか |
|`()` | グループ化|
|`{}` | 0回以上の繰り返し|  
|`[]` | 任意|
| `...` | 範囲

```
non_zero  = "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" |
zero      = "0"
digit     = non_zero {zero | non_zero}
hex_digit = zero | non_zero | "a" ... "f" | "A" ... "F"

unicodeEscapeSequence = \u hex_digit hex_digit hex_digit hex_digit
newline = \u000A
space   = \u0020

alphabet = upper_alphabet | lower_alphabet
upper_alphabet = "A" ... "Z"
lower_alphabet = "a" ... "z"

```

Karaffeにはセミコロンがありません。  
その代わりに文は改行で区切られ、コンパイル時に`newline`トークンとして扱われます。  